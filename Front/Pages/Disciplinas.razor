@page "/disciplinas"

<PageTitle>Disciplinas</PageTitle>

@using Syki.Dtos
@using System.Net.Http.Json
@inject HttpClient httpClient

<MudContainer Class="mt-16">
    <MudDataGrid Items="@DisciplinasOut">
        <Columns>
            <PropertyColumn Property="x => x.Id" Title="Id" />
            <PropertyColumn Property="x => x.Nome" Title="Nome" />
            <PropertyColumn Property="x => x.CargaHoraria" Title="Carga Horária" />
        </Columns>
    </MudDataGrid>
</MudContainer>

@code { 
    private List<DisciplinaOut> DisciplinasOut = new List<DisciplinaOut>();

    protected override async Task OnInitializedAsync()
    {
        DisciplinasOut = await httpClient.GetFromJsonAsync<List<DisciplinaOut>>("/disciplinas") ?? new();
    }
}
